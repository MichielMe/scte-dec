from pprint import pprint

from Tools.FFMPEGTools import FFMPEGFrameData, extract_frame_numbers
from Tools.SCTE_104_Tools import decode_SCTE104_to_SCTE104Packet

# Program Start packet
packet1 = decode_SCTE104_to_SCTE104Packet(
    "ffff004c0000050002000002010400020000010b003600002c240005dc0f2466656132363138312d383237662d346564302d613934622d633364626538626234653066100000000000000000000b0104000b0000000c00000001"
)
# Program End packet
packet2 = decode_SCTE104_to_SCTE104Packet(
    "ffff004c0000050002000002010400020000010b003600002c240005dc0f2466656132363138312d383237662d346564302d613934622d633364626538626234653066100000000000000000000b0104000b0000000c00000001"
)
# Announcement packet
packet3 = decode_SCTE104_to_SCTE104Packet(
    "ffff004c0000050002000002010400020000010b003600002c240005dc0f2461653432376364642d316364352d343363352d613862352d626336303866316139633566100000000000000000000b0104000c0000000c00000002"
)
# Additional Program Start packet
packet4 = decode_SCTE104_to_SCTE104Packet(
    "ffff004c0000050002000002010400020000010b003600002c240005dc0f2466636638383437382d663561642d343433322d393663362d663135663238626437313763100000000000000000000b0104000b0000000c00000001"
)
# Additional Program End packet
packet5 = decode_SCTE104_to_SCTE104Packet(
    "ffff004c0000050002000002010400020000010b003600002c240005dc0f2466636638383437382d663561642d343433322d393663362d663135663238626437313763100000000000000000000b0104000b0000000c00000001"
)

test_list = [
    FFMPEGFrameData(1, "Program Start", packet1),
    FFMPEGFrameData(150, "Announcement", packet3),
    FFMPEGFrameData(300, "Program End", packet2),
    FFMPEGFrameData(500, "Program Start", packet4),
    FFMPEGFrameData(750, "Program End", packet5),
]

print("test_list")
pprint(test_list)
print("extract_frame_numbers")
pprint(extract_frame_numbers(test_list))
